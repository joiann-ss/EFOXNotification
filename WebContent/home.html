<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Home Page</title>
	</head>
	<body>
		<button id="startButton" onclick="start()">Start</button><br>
		<button id="stopButton" onclick="stop()">Stop</button><br>
		<button id="clearButton" onclick="clearText()">Clear</button><br>
		<textarea id="displayTextArea" readOnly="readOnly" rows="40" and cols="60"></textarea><br>
		<script>
			var eventSource = null;
			function start(){
				eventSource = new EventSource("http://localhost:8080/EFOXNotification/notification");
				eventSource.onopen=open();
				eventSource.onmessage=function(message){stream(message)};
				eventSource.onerror=function(){errorHandle()};
			}
			function stop(){
				displayTextArea.value += 'Disconnected...'+'\n';
				eventSource.close();
				startButton.disabled = false;
			}
			function clearText(){
				displayTextArea.value = '';				
			}
			
			function open(){
				displayTextArea.value += 'Connected...'+'\n';
			}
			function stream(message){
				displayTextArea.value = message.data+'\n\n'+displayTextArea.value;
			}
			function errorHandle(){
				displayTextArea.value += 'Error Occured...'+'\n';
			}
		</script>
	</body>
</html>